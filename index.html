<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cijferstrijd – Made by Maxime</title>

<style>
/* ---------- BASIS ---------- */
body {
    font-family: 'Segoe UI', Arial, sans-serif;
    margin: 0;
    background: linear-gradient(to bottom, #f0f4f8, #ffffff);
    color: #333;
}

/* ---------- HEADER ---------- */
header {
    background-color: #3a7bd5;
    color: white;
    display: flex;
    align-items: center;
    gap: 25px;
    padding: 20px 30px;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
}
header img { height: 150px; }
header h1 { margin: 0; font-size: 28px; }

/* ---------- LAYOUT ---------- */
main {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 30px 15px;
    gap: 40px;
}

/* ---------- CARDS ---------- */
.calculator {
    background-color: #ffffffdd;
    padding: 25px;
    border-radius: 15px;
    box-shadow: 0 6px 15px rgba(0,0,0,0.1);
    max-width: 650px;
    width: 100%;
    transition: 0.3s;
}
.calculator:hover {
    transform: translateY(-4px);
    box-shadow: 0 10px 25px rgba(0,0,0,0.15);
}
h2 { color: #3a7bd5; }

/* ---------- INPUTS ---------- */
.grade-row {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 10px;
}

input, textarea {
    padding: 8px;
    border-radius: 8px;
    border: 1px solid #ccc;
    font-size: 15px;
}

input[type="number"] { width: 70px; }
textarea { resize: vertical; height: 90px; }

/* ---------- BUTTONS ---------- */
button {
    background-color: #3a7bd5;
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 10px;
    cursor: pointer;
}
button:hover { background-color: #2c5aa0; }

/* ---------- RESULTS ---------- */
.result {
    margin-top: 12px;
    font-weight: bold;
}

/* ---------- ERRORS ---------- */
.error {
    color: #d9534f;
    font-size: 14px;
    margin-bottom: 8px;
}
.error-field {
    border: 2px solid #d9534f;
}

/* ---------- BANNERS ---------- */
.banner {
    max-width: 650px;
    width: 100%;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}
.banner img {
    width: 100%;
    height: 150px;
    object-fit: cover;
}

/* ---------- FOOTER ---------- */
footer {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 15px;
    padding: 20px;
}
footer img { height: 150px; }
footer span {
    font-size: 24px;
    color: #3a7bd5;
    font-weight: bold;
}
</style>
</head>

<body>

<header>
    <img src="https://i.imgur.com/t3zv6JL.png" alt="Cijferstrijd logo">
    <h1>Cijferstrijd – Made by Maxime</h1>
</header>

<main>

<div class="banner">
    <img src="https://i.imgur.com/LPAqDnZ.png" alt="School banner">
</div>

<!-- DOELCIJFER -->
<div class="calculator" id="goalCalc">
    <h2>Doelcijfer Calculator</h2>
    <div class="grades"></div>
    <button class="add">Voeg cijfer toe</button>

    <div style="margin-top:10px;">
        Doelgemiddelde:
        <input type="number" id="goalTarget" step="0.1" min="1" max="10">
        Weging volgende toets:
        <input type="number" id="goalNextWeight" min="1" value="1">
    </div>

    <button class="calculate">Bereken benodigd cijfer</button>
    <div class="result"></div>
</div>

<!-- GEMIDDELDE -->
<div class="calculator" id="avgCalc">
    <h2>Gewogen Gemiddelde Calculator</h2>
    <div class="grades"></div>
    <button class="add">Voeg cijfer toe</button>
    <button class="calculate">Bereken gemiddelde</button>
    <div class="result"></div>
</div>

<!-- CONTACT -->
<div class="calculator" id="contactForm">
    <h2>Contact</h2>
    <form novalidate>
        <label>Naam</label><br>
        <input type="text" id="name">
        <div class="error" id="nameError"></div>

        <label>Email</label><br>
        <input type="email" id="email">
        <div class="error" id="emailError"></div>

        <label>Bericht</label><br>
        <textarea id="message"></textarea>
        <div class="error" id="messageError"></div>

        <button type="submit">Verstuur</button>
        <div class="result" id="formResult"></div>
    </form>
</div>

<div class="banner">
    <img src="https://images.unsplash.com/photo-1581091870623-6ecfaaf0c33c?auto=format&fit=crop&w=1200&q=60" alt="Educatieve banner">
</div>

</main>

<footer>
    <img src="https://logos-world.net/wp-content/uploads/2020/04/Snapchat-Logo.png" alt="Snapchat">
    <span>maxime_0183</span>
</footer>

<script>
/* ---------- CALCULATORS ---------- */
const MAX_ROWS = 10;

function createRow() {
    const row = document.createElement('div');
    row.className = 'grade-row';
    row.innerHTML = `
        Cijfer <input type="number" class="grade" step="0.1" min="1" max="10">
        Weging <input type="number" class="weight" min="1" value="1">
        <button class="remove">Verwijder</button>
    `;
    return row;
}

function setupCalculator(calc, isGoal) {
    const gradesDiv = calc.querySelector('.grades');
    const addBtn = calc.querySelector('.add');
    const calcBtn = calc.querySelector('.calculate');
    const result = calc.querySelector('.result');

    function addRow() {
        if (gradesDiv.children.length < MAX_ROWS) {
            gradesDiv.appendChild(createRow());
        }
    }

    addBtn.addEventListener('click', addRow);

    gradesDiv.addEventListener('click', e => {
        if (e.target.classList.contains('remove') && gradesDiv.children.length > 2) {
            e.target.parentElement.remove();
        }
    });

    calcBtn.addEventListener('click', () => {
        const grades = gradesDiv.querySelectorAll('.grade');
        const weights = gradesDiv.querySelectorAll('.weight');

        let total = 0, totalWeight = 0;
        grades.forEach((g, i) => {
            const grade = parseFloat(g.value);
            const weight = parseFloat(weights[i].value);
            if (!isNaN(grade) && !isNaN(weight)) {
                total += grade * weight;
                totalWeight += weight;
            }
        });

        if (totalWeight === 0) {
            result.innerText = 'Voer minimaal 2 geldige cijfers in.';
            return;
        }

        if (isGoal) {
            const target = parseFloat(document.getElementById('goalTarget').value);
            const nextWeight = parseFloat(document.getElementById('goalNextWeight').value) || 1;

            if (isNaN(target)) {
                result.innerText = 'Voer een doelgemiddelde in.';
                return;
            }

            let needed = ((target * (totalWeight + nextWeight)) - total) / nextWeight;
            let current = (total / totalWeight).toFixed(2);

            if (needed > 10) needed = 'Hoger dan 10';
            else if (needed < 1) needed = 'Niet nodig';
            else needed = needed.toFixed(2);

            result.innerHTML = `Huidig gemiddelde: ${current}<br>Nodig op volgende toets: ${needed}`;
        } else {
            result.innerText = `Gemiddelde: ${(total / totalWeight).toFixed(2)}`;
        }
    });

    addRow();
    addRow();
}

setupCalculator(document.getElementById('goalCalc'), true);
setupCalculator(document.getElementById('avgCalc'), false);

/* ---------- CONTACT FORM ---------- */
const form = document.querySelector('#contactForm form');
const nameInput = document.getElementById('name');
const emailInput = document.getElementById('email');
const messageInput = document.getElementById('message');

const nameError = document.getElementById('nameError');
const emailError = document.getElementById('emailError');
const messageError = document.getElementById('messageError');
const formResult = document.getElementById('formResult');

function showError(input, errorEl, msg) {
    input.classList.add('error-field');
    errorEl.innerText = msg;
}

function clearError(input, errorEl) {
    input.classList.remove('error-field');
    errorEl.innerText = '';
}

form.addEventListener('submit', e => {
    e.preventDefault();
    let valid = true;

    if (nameInput.value.trim().length < 2) {
        showError(nameInput, nameError, 'Naam moet minimaal 2 tekens bevatten.');
        valid = false;
    } else clearError(nameInput, nameError);

    const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!emailPattern.test(emailInput.value)) {
        showError(emailInput, emailError, 'Voer een geldig e-mailadres in.');
        valid = false;
    } else clearError(emailInput, emailError);

    if (messageInput.value.trim().length < 10) {
        showError(messageInput, messageError, 'Bericht moet minimaal 10 tekens bevatten.');
        valid = false;
    } else clearError(messageInput, messageError);

    if (valid) {
